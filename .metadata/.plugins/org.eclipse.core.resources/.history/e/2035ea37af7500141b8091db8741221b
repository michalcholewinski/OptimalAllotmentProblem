package db.dao;

import tools.xml.XMLReaderAndWriter;
import tools.xml.XMLReaderAndWriterImpl;
import db.structure.items.implementation.Root;
import db.structure.items.implementation.Sequence;
import db.structure.items.implementation.SystemXML;

public class DbDao implements DbDaoInterface {
	private static DbDaoInterface instance;
	private SystemXML systemXML;
	private XMLReaderAndWriter xmlReaderAndWriter;

	private DbDao() {
		xmlReaderAndWriter = XMLReaderAndWriterImpl.getInstance();
		systemXML = initDB();
	}

	private SystemXML initDB() {
		SystemXML systemXML = xmlReaderAndWriter.readSystemXML();
		if (systemXML == null) {
			systemXML = new SystemXML();
			systemXML.setRoot(new Root());
			systemXML.getRoot().setSequence(new Sequence());
			return systemXML;
		}
		return systemXML;
	}

	@Override
	public void setSystemXML(SystemXML systemXML) {
		// TODO Auto-generated method stub

	}

	@Override
	public SystemXML getSystemXML() {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public void commit() {
		// TODO Auto-generated method stub

	}

	public static DbDaoInterface getInstance() {
		if (instance == null) {
			instance = new DbDao();
		}
		return instance;
	}

}
