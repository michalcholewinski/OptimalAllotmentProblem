package dao.entities;

import static org.junit.Assert.fail;

import java.io.File;

import oap.utils.exceptions.CannotAddElementException;
import oap.utils.exceptions.ElementExistInDatabaseException;
import oap.utils.exceptions.MyException;
import oap.utils.exceptions.NonUniqueDataException;
import oap.utils.xml.enums.DatabaseName;

import org.junit.Assert;
import org.junit.Before;
import org.junit.Rule;
import org.junit.Test;
import org.junit.rules.ExpectedException;

import db.structure.items.implementation.User;

public class UserDaoImplTest {

	private UserDao userDao;
	@Rule
    public ExpectedException thrown= ExpectedException.none();
	
	@Before
	public void setup(){
		if(new File(DatabaseName.TEST_DB.getFileName()).exists()){
			new File(DatabaseName.TEST_DB.getFileName()).delete();
		}
		
		userDao=new UserDaoImpl(DatabaseName.TEST_DB);
	}
	
	
	@Test
	public void shouldGetUserById() {
		fail("Not yet implemented");
	}

	@Test
	public void shouldCreateUser() {
		User user=new User();
		User userFromDb=null;
		try {
			userFromDb = userDao.createUser(user);
		}catch(Exception e){
		}
			finally{
			
		}
		Assert.assertEquals(user, userFromDb);
	}

	@Test(expected=NonUniqueDataException.class)
	public void shouldCreateUserThrowUniqueConstraintException() throws NonUniqueDataException,ElementExistInDatabaseException,CannotAddElementException {
		User user=new User();
		user.setName("String");
		User user2=new User();
		user2.setName("String");
		User userFromDb=null;
		
			userFromDb = userDao.createUser(user);
		User userFromDb1=null;
			userFromDb1 = userDao.createUser(user);
	
	}

	@Test(expected=ElementExistInDatabaseException.class)
	public void shouldCreateUserThrowElementExistInDatabaseException() throws NonUniqueDataException,ElementExistInDatabaseException,CannotAddElementException{
		User user=new User();
		User userFromDb=null;
		
			userFromDb = userDao.createUser(user);
		User userFromDb1=null;
			userFromDb1 = userDao.createUser(user);
	}

	@Test
	public void shouldCreateUserThrowNotAddedException() {
		fail("Not yet implemented");
	}

	@Test
	public void shouldUpdateUser() {
		fail("Not yet implemented");
	}

	@Test
	public void shouldDeleteUser() {
		fail("Not yet implemented");
	}

	@Test
	public void shouldFindUserByName() {
		fail("Not yet implemented");
	}

	@Test
	public void shouldFindUserBySurname() {
		fail("Not yet implemented");
	}

	@Test
	public void shouldFindUserByNameAndSurname() {
		fail("Not yet implemented");
	}

	@Test
	public void shouldFindUserByLogin() {
		fail("Not yet implemented");
	}

	@Test
	public void shouldCheckIfCorrectLogonData() {
		fail("Not yet implemented");
	}

}
