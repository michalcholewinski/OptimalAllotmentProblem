package db.structure.items.implementation;

import java.util.ArrayList;
import java.util.Date;
import java.util.List;

import javax.xml.bind.annotation.XmlElement;
import javax.xml.bind.annotation.XmlElementWrapper;
import javax.xml.bind.annotation.XmlRootElement;


@XmlRootElement(name = "ferryman")
public class Ferryman {
	private Long id;
	private String name; 
	private Date insertDate;
	private Date updateDate;
	private List<Tarif> priceList=new ArrayList<Tarif>();

	public Ferryman() {
		name=new String();
		insertDate=new Date();
		updateDate=new Date();
	}
	
	public Long getId() {
		return id;
	}

	@XmlElement(required=true)
	public void setId(Long id) {
		this.id = id;
		updateDate=new Date();

	}

	public String getName() {
		return name;
	}

	@XmlElement(required=true)
	public void setName(String name) {
		this.name = name;
		updateDate=new Date();

	}

	public Date getInsertDate() {
		return insertDate;
	}

	public Date getUpdateDate() {
		return updateDate;
	}

	public List<Tarif> getPriceList() {
		return priceList != null ? priceList : new ArrayList<Tarif>();
	}

	@XmlElementWrapper(name = "priceList")
	@XmlElement(name = "tarif")
	public void setPriceList(List<Tarif> priceList) {
		this.priceList = priceList;
		updateDate=new Date();
	}

	@Override
	public boolean equals(Object arg0) {
		Ferryman ferryman = (Ferryman) arg0;
		
		boolean samePriceList = (ferryman.getPriceList().isEmpty() && priceList.isEmpty())|| ferryman.getPriceList().equals(priceList);
		return (ferryman.getId() == id && ferryman.getName().equals(name)
				&& ferryman.getInsertDate().equals(insertDate) && ferryman
				.getUpdateDate().equals(updateDate) && samePriceList);
	}
	
	public boolean hasSameBussinessKey(Ferryman ferryman){
		return (ferryman.getId()==id || ferryman.getName().equals(name));
	}

}
